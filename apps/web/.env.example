# ===========================================
# Louez - Environment Variables
# ===========================================
# Copy this file to .env.local and fill in your values
# All variables without defaults are REQUIRED
# See README.md for detailed documentation

# -----------------------------------------
# Database (Required)
# -----------------------------------------
# MySQL connection string
# DEV: port 6984 | PROD: port 6053 (never connect directly)
DATABASE_URL="mysql://user:password@localhost:6984/louez"

# -----------------------------------------
# Authentication (Required)
# -----------------------------------------
# Generate with: openssl rand -base64 32
AUTH_SECRET=""

# Auth URL - Must match your dashboard URL (where users log in)
# Examples: http://localhost:3000 (dev) | https://app.yourdomain.com (prod)
AUTH_URL="http://localhost:3000"

# Trust Host - Set to true when behind a reverse proxy (Docker, Cloudflare, etc.)
AUTH_TRUST_HOST="true"

# Google OAuth (Required for Google sign-in)
AUTH_GOOGLE_ID=""
AUTH_GOOGLE_SECRET=""

# -----------------------------------------
# Email / SMTP (Required)
# -----------------------------------------
# Any SMTP provider works: Gmail, SendGrid, Mailgun, AWS SES, Resend, etc.
SMTP_HOST="smtp.resend.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="resend"
SMTP_PASSWORD=""
SMTP_FROM="Louez <noreply@yourdomain.com>"

# -----------------------------------------
# Application URLs (Required)
# -----------------------------------------
# Base URL and domain for your installation
# Examples: http://localhost:3000 / localhost:3000 (dev)
#           https://app.yourdomain.com / yourdomain.com (prod)
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_DOMAIN="localhost:3000"

# Subdomain used for the admin dashboard (default: "app")
# Dashboard will be accessible at: {DASHBOARD_SUBDOMAIN}.{APP_DOMAIN}
NEXT_PUBLIC_DASHBOARD_SUBDOMAIN="app"

# -----------------------------------------
# Storage / S3 (Required)
# -----------------------------------------
# For image uploads. S3-compatible providers:
# AWS S3, Scaleway Object Storage, MinIO, Cloudflare R2, DigitalOcean Spaces
S3_ENDPOINT="https://s3.fr-par.scw.cloud"
S3_REGION="fr-par"
S3_BUCKET="louez-uploads"
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_PUBLIC_URL="https://louez-uploads.s3.fr-par.scw.cloud"

# -----------------------------------------
# Stripe (Required)
# -----------------------------------------
# For online payments with Stripe Connect
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""
STRIPE_CONNECT_WEBHOOK_SECRET=""
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=""

# Stripe Price IDs (EUR) - Create in Stripe Dashboard
STRIPE_PRICE_PRO_MONTHLY=""
STRIPE_PRICE_PRO_YEARLY=""
STRIPE_PRICE_ULTRA_MONTHLY=""
STRIPE_PRICE_ULTRA_YEARLY=""

# Stripe Price IDs (USD) - Create in Stripe Dashboard
STRIPE_PRICE_PRO_MONTHLY_USD=""
STRIPE_PRICE_PRO_YEARLY_USD=""
STRIPE_PRICE_ULTRA_MONTHLY_USD=""
STRIPE_PRICE_ULTRA_YEARLY_USD=""

# -----------------------------------------
# SMS (Required)
# -----------------------------------------
# For sending SMS notifications to customers
# Provider options: smspartner, twilio, vonage
SMS_PROVIDER="smspartner"
SMS_DEFAULT_SENDER="Louez"

# SMS Partner (https://www.smspartner.fr)
# Get your API key from: https://my.smspartner.fr/api
SMS_PARTNER_API_KEY=""

# -----------------------------------------
# Google Places (Required)
# -----------------------------------------
# For address autocomplete and search
GOOGLE_PLACES_API_KEY=""
GOOGLE_PLACES_CACHE_TTL_HOURS="120"

# -----------------------------------------
# Platform Admin (Required)
# -----------------------------------------
# Comma-separated list of emails with platform-wide admin access.
# These users can access ALL stores in the store switcher for support/debugging.
# Leave empty to disable this feature.
PLATFORM_ADMIN_EMAILS=""

# -----------------------------------------
# Discord Notifications (Required)
# -----------------------------------------
# Discord webhook URL for platform-wide admin notifications.
# When set, key platform events (sign-ups, reservations, payments, etc.)
# are sent as single-line messages to this Discord channel in real-time.
# Create a webhook: Discord Server Settings > Integrations > Webhooks > New Webhook
DISCORD_ADMIN_WEBHOOK_URL=""

# -----------------------------------------
# Cron Jobs (Required)
# -----------------------------------------
# Secret for authenticating cron job requests
# Generate with: openssl rand -base64 32
CRON_SECRET=""

# -----------------------------------------
# PostHog Analytics (Required)
# -----------------------------------------
# Product analytics, feature flags, and session replay
# Get your keys from: https://posthog.com
NEXT_PUBLIC_POSTHOG_KEY=""
NEXT_PUBLIC_POSTHOG_HOST="https://eu.i.posthog.com"

# -----------------------------------------
# Umami Analytics (Required)
# -----------------------------------------
# Privacy-friendly analytics for your platform
# Full URL to your Umami tracking script
NEXT_PUBLIC_UMAMI_SCRIPT_URL=""
# Website ID from your Umami dashboard (Settings > Websites > Edit)
NEXT_PUBLIC_UMAMI_WEBSITE_ID=""

# -----------------------------------------
# Gleap (Required)
# -----------------------------------------
# For in-app feedback and bug reporting in the dashboard
NEXT_PUBLIC_GLEAP_API_KEY=""

# -----------------------------------------
# Development Mode (Optional)
# -----------------------------------------
# Set to a store slug to preview that store's storefront locally
# When set, localhost will show the storefront instead of the dashboard
# Dashboard routes (/dashboard, /login, etc.) remain accessible
PREVIEW_STORE_SLUG=""

# Auto-run migrations on server start (dev only)
AUTO_DB_SETUP="false"

# Skip env validation during build (use with caution)
# SKIP_ENV_VALIDATION="true"
